@import url('https://fonts.googleapis.com/css2?family=Kosugi+Maru&family=M+PLUS+Rounded+1c&family=Noto+Sans+JP&family=Poppins&family=Sawarabi+Mincho&family=Space+Mono&family=Material+Icons&display=swap');
*{
	--defaultFont: "Poppins", 'Kosugi Maru', 'M PLUS Rounded 1c', "Noto Sans JP", sans-serif;
	--sameWidthFont: "Noto Sans JP", "Poppins", 'Kosugi Maru', 'M PLUS Rounded 1c', sans-serif;

	font-size: 16px;
	box-sizing: border-box;
	font-family: var(--defaultFont);
	font-weight: lighter;
}
html, body{
	margin: 0;
	padding: 0;
	overflow: hidden;
}


.container{
	width: 100vw;
	height: 100vh;
	display: none;
	&.showing{ display: grid; }

	div.center{ grid-area: a; }

	&#loader, &#start, &#end{
		grid-template-columns: 1fr auto 1fr;
		grid-template-rows: 1fr auto 1fr;
		grid-template-areas: ". . ." ". a ." ". . .";
		p{
			margin: 16px;
			font-size: 36px;
			text-align: center;
			&#progressMsg{
				&::before{
					font-family: var(--defaultFont);
					content: "Resource Loaded: ";
				}
				font-size: 18px;
				font-family: var(--sameWidthFont);
			}
		}
		div#bar_cont{
			width: 400px;
			height: 36px;
			background-color: #eee;
			border-radius: 18px;
			div#bar{
				width: 0%;
				height: 100%;
				background-color: #448aff;
				border-radius: 18px;
			}
		}
		div#note{
			height: 300px;
			overflow-y: scroll;
			box-shadow: 0px 3px 8px 0px #aaa;
			margin: 10px;
			padding: 16px;
			border-radius: 5px;
			h3{
				font-size: 22px;
				text-align: center;
			}
			p{
				font-size: 16px;
			}
			div.material.chk{
				position: relative;
				display: block;
				min-height: 40px;
				width: 200px;
				margin: auto;
				input[type=checkbox]{
					position: absolute;
					top: 8px;
					left: 8px;
					width: 32px;
					height: 32px;
					margin: 0px;
					z-index: 1;
					opacity: 0;
					& + label{
						position: absolute;
						top: 10.5px;
						left: 8px;
						font-size: 18px;
						display: flex;
						align-items: center;
						transform: translateY(0px);
						color: #000;
						z-index: 0;
						&::before{
							// ----------  Material Icons ---------- //
							font-family: 'Material Icons';
							font-weight: normal;
							font-style: normal;
							font-size: 28px;
							// font-size: 18px;
							display: inline-block;
							line-height: 1;
							text-transform: none;
							letter-spacing: normal;
							word-wrap: normal;
							white-space: nowrap;
							direction: ltr;
							/* Support for all WebKit browsers. */
							-webkit-font-smoothing: antialiased;
							/* Support for Safari and Chrome. */
							text-rendering: optimizeLegibility;
							/* Support for Firefox. */
							-moz-osx-font-smoothing: grayscale;
							/* Support for IE. */
							font-feature-settings: 'liga';
							// ------------------------------------- //

							content: "check_box_outline_blank";
							transition: 500ms;
							// width: 18px;
							// height: 18px;
							// border-radius: 3px;
							// border: 1.5px #aaa solid;
							// // padding-left: 24px;
							// font-size: initial;
							margin-right: 5px;
							color: #aaa;
							// padding-left: 2px;
							// padding-top: 2px;
						}
					}
					&:checked + label::before{
						color: #1a73e8;
						// padding-left: 0px;
						content: "check_box";
					}
					&:disabled + label{
						color: #888;
						&::before{
							color: inherit;
						}

					}
				}
			}
		}
		#p2s{
			font-size: 24px;
		}
	}
	&#main{
		grid-template-areas:
			"type type"
			"eng  ph  "
			"eng  ja  "
			"key  key";
		grid-template-columns: 1fr 1fr;
		grid-template-rows: 42px 1fr 1fr 250px;
		gap: 8px;
		padding: 16px;
		& > *:not(.keyboard):not(.cont){
			text-align: center;
			display: grid;
			grid-template-columns: 1fr auto 1fr;
			grid-template-rows: 1fr auto 1fr;
			grid-template-areas: ". . ." ". a ." ". . .";
			position: relative;
			box-shadow: inset 0px 0px 10px 0px #aaa;
			border-radius: 20px;
			padding: 16px;
		}
		& > * > *{
			font-size: inherit;
		}
		label{
			position: absolute;
			top: -8px;
			left: 24px;
			font-size: 22px;
			height: 22px;
			max-width: 90%;
			background-color: #fff;
			color: #448aff;
		}
		div.cont{
			grid-area: type;
			font-size: 28px;
			position: relative;
			.typed{
				margin: 0;
				display: inline;
				font-family: var(--sameWidthFont);
				&::before{
					content: "入力文字数：";
					font-family: var(--defaultFont);
				}
			}
			.time{
				display: inline-block;
				text-align: right;
				position: absolute;
				right: 8px;
				top: 0px;
				font-size: inherit;
				span{ font-size: inherit; font-family: var(--sameWidthFont); }
				div.timeRemainingBar_container{
					display: inline-block;
					width: 400px;
					height: 36px;
					background-color: #eee;
					border-radius: 18px;
					margin: auto;
					border: #aaa solid 1px;
					div#bar{
						width: 100%;
						height: 100%;
						border-radius: 18px;
					}
				}
			}
		}
		.eng{
			grid-area: eng;
			font-size: 5vw;
			span.typed_char{
				color: #aaa;
				font-size: inherit;
			}
			span.next_char{
				font-size: inherit;
				color: #388e3c;
			}
			span.remaining_char{
				font-size: inherit;
			}
		}
		.pho{
			grid-area: ph;
			font-size: 28px;
			white-space: pre-wrap;
		}
		.jap{
			grid-area: ja;
			font-size: 24px;
			white-space: pre-wrap;
		}
		.keyboard{
			grid-area: key;
			display: grid;
			grid-template-areas:
				"q q w w e e r r t t y y u u i i o o p p"
				". a a s s d d f f g g h h j j k k l l ."
				". . . z z x x c c v v b b n n m m . . .";
			gap: 12px;
			grid-template-columns: repeat(20, calc((100% - (12px * 19))/20));
			grid-template-rows: repeat(3, calc((100% - 24px)/3));
			min-width: calc((80px * 10) + 10px);
			.key{
				font-size: 36px;
				box-shadow: 0px 0px 10px 0px #aaa;
				width: 80px;
				height: 80px;
				margin: auto;
				text-align: center;
				padding: 13px;
				border-radius: 50%;
				&.pressing{
					box-shadow: inset 0px 0px 10px 0px #aaa;
					font-size: 32px;
					padding: 16px;
				}
				&.next{
					background-color: #faebd7;
				}
			}
		}
	}
	&#end .center p{
		font-size: 10vw;
	}
	&#score{
		margin: auto;
		width: fit-content;
		display: block;
		p{
			text-align: center;
			margin: 16px auto;
		}
		p#score{
			width: 100%;
			height: fit-content;
			font-size: 5vw;
			border-bottom: 2px solid #aaa;
			font-family: var(--sameWidthFont);
			&::before{ content: "Score: "; font-family: var(--defaultFont); }
			&::after{ content: "点"; font-size: .75em; font-family: var(--defaultFont); }
		}
		.con{
			display: none;
			p{
				font-size: 28px;
				margin: 8px auto;
			}
			p#correct{
				&::before{ content: "正タイプ数: "; }
			}
			p#incorrect{
				&::before{ content: "誤タイプ数: "; }
			}
			p#total{
				&::before{ content: "タイプ数合計: "; }
			}
			p#rate{
				&::before{ content: "正タイプ率: "; }
				&::after{ content: "%"; }
			}
			p#scoreT{
				&::before{ content: "スコア: "; }
				span{
					font-size: 18px;
				}
			}
			p#pm{ &::before{ content: "1分あたりの正タイプ数: "; } }
			p#ps{ &::before{ content: "1秒あたりの正タイプ数: "; } }
			p.splitter{
				height: 1px;
				width: 100%;
			}
			button{
				$bg: #1a73e8;
				background: $bg;
				padding: 12px;
				font-size: 16px;
				color: #fff;
				border-radius: 5px;
				border: 0;
				width: 100%;
				outline: 0;
				&:hover{ background: darken($bg, 15%); }
				&:disabled{ background: lighten($bg, 20%); }
			}
		}
	}
}